# ALPHA158æŒ‡æ ‡ä½“ç³»è¯¦è§£

## ðŸ“Š é—®é¢˜è§£ç­”

**ä¸ºä»€ä¹ˆä¹‹å‰åªæœ‰69ä¸ªAlpha158æŒ‡æ ‡ï¼Ÿ**

åŽŸå› æ˜¯æˆ‘çš„åˆå§‹å®žçŽ°**ç¼ºå°‘äº†89ä¸ªå…³é”®æŒ‡æ ‡**ã€‚ç»è¿‡è¡¥å……åŽï¼ŒçŽ°åœ¨åŒ…å«**159ä¸ªæŒ‡æ ‡**ï¼Œéžå¸¸æŽ¥è¿‘æ ‡å‡†çš„158ä¸ªã€‚

## ðŸŽ¯ å®Œæ•´çš„Alpha158æŒ‡æ ‡ä½“ç³» (159ä¸ª)

### 1. ðŸ“ˆ **KBARæŒ‡æ ‡** (9ä¸ª) - Kçº¿å½¢æ€ç‰¹å¾

è¿™äº›æŒ‡æ ‡æè¿°å•æ ¹Kçº¿çš„å½¢æ€ç‰¹å¾ï¼š

```python
ALPHA158_KMID  = (close - open) / open           # Kçº¿å®žä½“ç›¸å¯¹å¼€ç›˜ä»·æ¯”ä¾‹
ALPHA158_KLEN  = (high - low) / open             # Kçº¿æ€»é•¿åº¦ç›¸å¯¹å¼€ç›˜ä»·  
ALPHA158_KMID2 = (close - open) / (high - low)   # Kçº¿å®žä½“å æ€»é•¿åº¦æ¯”ä¾‹
ALPHA158_KUP   = (high - max(open, close)) / open # ä¸Šå½±çº¿ç›¸å¯¹å¼€ç›˜ä»·
ALPHA158_KUP2  = (high - max(open, close)) / (high - low) # ä¸Šå½±çº¿å æ€»é•¿åº¦æ¯”ä¾‹
ALPHA158_KLOW  = (min(open, close) - low) / open # ä¸‹å½±çº¿ç›¸å¯¹å¼€ç›˜ä»·
ALPHA158_KLOW2 = (min(open, close) - low) / (high - low) # ä¸‹å½±çº¿å æ€»é•¿åº¦æ¯”ä¾‹
ALPHA158_KSFT  = (2*close - high - low) / open   # Kçº¿é‡å¿ƒåç§»
ALPHA158_KSFT2 = (2*close - high - low) / (high - low) # Kçº¿é‡å¿ƒåç§»æ ‡å‡†åŒ–
```

### 2. ðŸ“Š **ä»·æ ¼æŒ‡æ ‡** (5ä¸ª) - æ ‡å‡†åŒ–ä»·æ ¼æ•°æ®

```python
ALPHA158_OPEN0   = open / close      # å¼€ç›˜ä»·ç›¸å¯¹æ”¶ç›˜ä»·
ALPHA158_HIGH0   = high / close      # æœ€é«˜ä»·ç›¸å¯¹æ”¶ç›˜ä»·  
ALPHA158_LOW0    = low / close       # æœ€ä½Žä»·ç›¸å¯¹æ”¶ç›˜ä»·
ALPHA158_VWAP0   = vwap / close      # æˆäº¤é‡åŠ æƒå¹³å‡ä»·æ ¼ç›¸å¯¹æ”¶ç›˜ä»·
ALPHA158_VOLUME0 = volume / volume   # æˆäº¤é‡æ ‡å‡†åŒ– (å€¼ä¸º1)
```

### 3. ðŸ”„ **æ»šåŠ¨æŒ‡æ ‡** (145ä¸ª) - 29ç±» Ã— 5ä¸ªæ—¶é—´çª—å£

**æ—¶é—´çª—å£**: [5, 10, 20, 30, 60] å¤©

#### ðŸƒâ€â™‚ï¸ **è¶‹åŠ¿ç±»æŒ‡æ ‡** (30ä¸ª)

```python
# ROC - æ”¶ç›ŠçŽ‡ (5ä¸ª)
ALPHA158_ROC5/10/20/30/60 = Ref(close, N) / close

# MA - ç§»åŠ¨å¹³å‡ (5ä¸ª)  
ALPHA158_MA5/10/20/30/60 = Mean(close, N) / close

# STD - æ ‡å‡†å·® (5ä¸ª)
ALPHA158_STD5/10/20/30/60 = Std(close, N) / close

# BETA - æ–œçŽ‡ (5ä¸ª)
ALPHA158_BETA5/10/20/30/60 = Slope(close, N) / close

# RSQR - Rå¹³æ–¹ (5ä¸ª)
ALPHA158_RSQR5/10/20/30/60 = Rsquare(close, N)

# RESI - çº¿æ€§å›žå½’æ®‹å·® (5ä¸ª) ðŸ†•
ALPHA158_RESI5/10/20/30/60 = Residual(close, N) / close
```

#### ðŸ“ **æžå€¼ç±»æŒ‡æ ‡** (30ä¸ª)

```python
# MAX - æœ€å¤§å€¼ (5ä¸ª)
ALPHA158_MAX5/10/20/30/60 = Max(high, N) / close

# MIN - æœ€å°å€¼ (5ä¸ª)
ALPHA158_MIN5/10/20/30/60 = Min(low, N) / close

# QTLU - ä¸Šåˆ†ä½æ•° (5ä¸ª)
ALPHA158_QTLU5/10/20/30/60 = Quantile(close, N, 0.8) / close

# QTLD - ä¸‹åˆ†ä½æ•° (5ä¸ª)  
ALPHA158_QTLD5/10/20/30/60 = Quantile(close, N, 0.2) / close

# RANK - æŽ’å (5ä¸ª)
ALPHA158_RANK5/10/20/30/60 = Rank(close, N)

# RSV - ç›¸å¯¹å¼ºå¼±å€¼ (5ä¸ª)
ALPHA158_RSV5/10/20/30/60 = (close - Min(low, N)) / (Max(high, N) - Min(low, N))
```

#### ðŸ—“ï¸ **ä½ç½®ç±»æŒ‡æ ‡** (15ä¸ª) ðŸ†•

```python
# IMAX - æœ€é«˜ä»·ä½ç½®ç´¢å¼• (5ä¸ª)
ALPHA158_IMAX5/10/20/30/60 = IdxMax(high, N) / N

# IMIN - æœ€ä½Žä»·ä½ç½®ç´¢å¼• (5ä¸ª)
ALPHA158_IMIN5/10/20/30/60 = IdxMin(low, N) / N

# IMXD - æœ€é«˜æœ€ä½Žä»·ä½ç½®å·® (5ä¸ª)
ALPHA158_IMXD5/10/20/30/60 = (IdxMax(high, N) - IdxMin(low, N)) / N
```

#### ðŸ”— **ç›¸å…³æ€§ç±»æŒ‡æ ‡** (10ä¸ª) ðŸ†•

```python
# CORR - ä»·æ ¼ä¸Žæˆäº¤é‡ç›¸å…³æ€§ (5ä¸ª)
ALPHA158_CORR5/10/20/30/60 = Corr(close, Log(volume), N)

# CORD - ä»·æ ¼å˜åŒ–ä¸Žæˆäº¤é‡å˜åŒ–ç›¸å…³æ€§ (5ä¸ª)
ALPHA158_CORD5/10/20/30/60 = Corr(close/Ref(close,1), Log(volume/Ref(volume,1)), N)
```

#### ðŸ“ˆ **æ¶¨è·Œç»Ÿè®¡ç±»æŒ‡æ ‡** (30ä¸ª) ðŸ†•

```python
# CNTP - ä¸Šæ¶¨å¤©æ•°æ¯”ä¾‹ (5ä¸ª)
ALPHA158_CNTP5/10/20/30/60 = Mean(close > Ref(close, 1), N)

# CNTN - ä¸‹è·Œå¤©æ•°æ¯”ä¾‹ (5ä¸ª)
ALPHA158_CNTN5/10/20/30/60 = Mean(close < Ref(close, 1), N)

# CNTD - æ¶¨è·Œå¤©æ•°å·® (5ä¸ª)
ALPHA158_CNTD5/10/20/30/60 = CNTP - CNTN

# SUMP - æ€»æ”¶ç›Šæ¯”ä¾‹ (5ä¸ª)
ALPHA158_SUMP5/10/20/30/60 = Sum(æ­£æ”¶ç›Š, N) / Sum(|æ”¶ç›Šå˜åŒ–|, N)

# SUMN - æ€»æŸå¤±æ¯”ä¾‹ (5ä¸ª)
ALPHA158_SUMN5/10/20/30/60 = Sum(è´Ÿæ”¶ç›Š, N) / Sum(|æ”¶ç›Šå˜åŒ–|, N)

# SUMD - æ”¶ç›ŠæŸå¤±å·®æ¯”ä¾‹ (5ä¸ª)
ALPHA158_SUMD5/10/20/30/60 = SUMP - SUMN
```

#### ðŸ“Š **æˆäº¤é‡ç±»æŒ‡æ ‡** (30ä¸ª) ðŸ†•

```python
# VMA - æˆäº¤é‡ç§»åŠ¨å¹³å‡ (5ä¸ª)
ALPHA158_VMA5/10/20/30/60 = Mean(volume, N) / volume

# VSTD - æˆäº¤é‡æ ‡å‡†å·® (5ä¸ª)
ALPHA158_VSTD5/10/20/30/60 = Std(volume, N) / volume

# WVMA - æˆäº¤é‡åŠ æƒä»·æ ¼æ³¢åŠ¨çŽ‡ (5ä¸ª)
ALPHA158_WVMA5/10/20/30/60 = æˆäº¤é‡åŠ æƒçš„ä»·æ ¼å˜åŒ–æ³¢åŠ¨çŽ‡

# VSUMP - æˆäº¤é‡ä¸Šå‡æ¯”ä¾‹ (5ä¸ª)
ALPHA158_VSUMP5/10/20/30/60 = Sum(æˆäº¤é‡å¢žåŠ , N) / Sum(|æˆäº¤é‡å˜åŒ–|, N)

# VSUMN - æˆäº¤é‡ä¸‹é™æ¯”ä¾‹ (5ä¸ª)  
ALPHA158_VSUMN5/10/20/30/60 = Sum(æˆäº¤é‡å‡å°‘, N) / Sum(|æˆäº¤é‡å˜åŒ–|, N)

# VSUMD - æˆäº¤é‡æ¶¨è·Œå·®æ¯”ä¾‹ (5ä¸ª)
ALPHA158_VSUMD5/10/20/30/60 = VSUMP - VSUMN
```

## ðŸ” è¡¥å……çš„89ä¸ªæŒ‡æ ‡

æˆ‘è¡¥å……äº†ä»¥ä¸‹**18ç±»æ–°æŒ‡æ ‡** (æ¯ç±»5ä¸ªæ—¶é—´çª—å£ = 90ä¸ª)ï¼Œå‡åŽ»é‡å¤çš„1ä¸ª = **89ä¸ªæ–°æŒ‡æ ‡**ï¼š

| ç±»åˆ« | æ•°é‡ | è¯´æ˜Ž |
|------|------|------|
| RESI | 5ä¸ª | çº¿æ€§å›žå½’æ®‹å·® |
| IMAX | 5ä¸ª | æœ€é«˜ä»·ä½ç½®ç´¢å¼• |
| IMIN | 5ä¸ª | æœ€ä½Žä»·ä½ç½®ç´¢å¼• |
| IMXD | 5ä¸ª | æœ€é«˜æœ€ä½Žä»·ä½ç½®å·® |
| CORR | 5ä¸ª | ä»·æ ¼æˆäº¤é‡ç›¸å…³æ€§ |
| CORD | 5ä¸ª | ä»·æ ¼æˆäº¤é‡å˜åŒ–ç›¸å…³æ€§ |
| CNTP | 5ä¸ª | ä¸Šæ¶¨å¤©æ•°æ¯”ä¾‹ |
| CNTN | 5ä¸ª | ä¸‹è·Œå¤©æ•°æ¯”ä¾‹ |
| CNTD | 5ä¸ª | æ¶¨è·Œå¤©æ•°å·® |
| SUMP | 5ä¸ª | æ€»æ”¶ç›Šæ¯”ä¾‹ |
| SUMN | 5ä¸ª | æ€»æŸå¤±æ¯”ä¾‹ |
| SUMD | 5ä¸ª | æ”¶ç›ŠæŸå¤±å·®æ¯”ä¾‹ |
| VMA | 5ä¸ª | æˆäº¤é‡ç§»åŠ¨å¹³å‡ |
| VSTD | 5ä¸ª | æˆäº¤é‡æ ‡å‡†å·® |
| WVMA | 5ä¸ª | æˆäº¤é‡åŠ æƒä»·æ ¼æ³¢åŠ¨çŽ‡ |
| VSUMP | 5ä¸ª | æˆäº¤é‡ä¸Šå‡æ¯”ä¾‹ |
| VSUMN | 5ä¸ª | æˆäº¤é‡ä¸‹é™æ¯”ä¾‹ |
| VSUMD | 5ä¸ª | æˆäº¤é‡æ¶¨è·Œå·®æ¯”ä¾‹ |

## ðŸŽ¯ æ€»ç»“

âœ… **ä¿®å¤å‰**: 69ä¸ªæŒ‡æ ‡  
âœ… **ä¿®å¤åŽ**: 159ä¸ªæŒ‡æ ‡  
âœ… **æ–°å¢ž**: 89ä¸ªæŒ‡æ ‡  
âœ… **æŽ¥è¿‘æ ‡å‡†**: Alpha158 (158ä¸ª)

çŽ°åœ¨æ‚¨çš„è„šæœ¬è¾“å‡ºçš„CSVå°†åŒ…å«**å®Œæ•´çš„Alpha158æŒ‡æ ‡ä½“ç³»**ï¼Œæ‰€æœ‰æŒ‡æ ‡éƒ½å¸¦æœ‰ç›¸åº”çš„ä¸­æ–‡æ ‡ç­¾ï¼

## ðŸš€ ä½¿ç”¨æ–¹æ³•

```bash
# è¿è¡Œå®Œæ•´ç‰ˆAlpha158è®¡ç®—
python scripts/qlib_indicators.py --max-stocks 5

# è¾“å‡ºæ–‡ä»¶å°†åŒ…å«159ä¸ªAlpha158æŒ‡æ ‡ + å…¶ä»–æŒ‡æ ‡ç³»åˆ—
``` 